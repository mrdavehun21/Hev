<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/home.css">
  <title>RapidTrack</title>
  <link rel="icon" type="image/png" href="../icons/favicon.png">
  <meta name="description" content="RapidTrack Program főoldala. MXA-kocsik pályaszáma és sok más...">
  <link rel="manifest" href="../js/manifest.json" />
</head>
<body>
  <header>
    <nav class="navbar navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand">Pályaszámok</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Palyaszamok.live</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <% if (loggedIn) { %>
                  <a href="/logout" class="side-links d-flex justify-content-start py-3">
                    <b>Kijelentkezés</b>
                    <div class="mx-2">
                      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 18 18">
                        <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                        <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                      </svg>
                    </div>
                  </a>
                <% } else { %>
                  <a href="/login" class="side-links d-flex justify-content-start py-2">
                    <b>Bejelentkezés</b>
                    <div class="mx-2">
                      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-box-arrow-in-right" viewBox="0 0 18 18">
                        <path fill-rule="evenodd" d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z"/>
                        <path fill-rule="evenodd" d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                      </svg>
                    </div>
                  </a>
                <% } %>
              </li>
              <hr>
              <li class="nav-item">
                <a class="side-links d-flex align-items-center justify-content-start py-2" href="/home/vonatokH5">
                <div class="mx-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-train-front" viewBox="0 0 18 18">
                    <path d="M5.621 1.485c1.815-.454 2.943-.454 4.758 0 .784.196 1.743.673 2.527 1.119.688.39 1.094 1.148 1.094 1.979V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V4.583c0-.831.406-1.588 1.094-1.98.784-.445 1.744-.922 2.527-1.118m5-.97C8.647.02 7.353.02 5.38.515c-.924.23-1.982.766-2.78 1.22C1.566 2.322 1 3.432 1 4.582V13.5A2.5 2.5 0 0 0 3.5 16h9a2.5 2.5 0 0 0 2.5-2.5V4.583c0-1.15-.565-2.26-1.6-2.849-.797-.453-1.855-.988-2.779-1.22ZM5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0m0 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0m7 1a1 1 0 1 0-1-1 1 1 0 1 0-2 0 1 1 0 0 0 2 0 1 1 0 0 0 1 1M4.5 5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h3V5zm4 0v3h3a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zM3 5.5A1.5 1.5 0 0 1 4.5 4h7A1.5 1.5 0 0 1 13 5.5v2A1.5 1.5 0 0 1 11.5 9h-7A1.5 1.5 0 0 1 3 7.5zM6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"/>
                  </svg>
                </div>
                <b>H5-ös HÉV</b>
                </a>
              </li>
              <li class="nav-item">
                <a class="side-links d-flex align-items-center justify-content-start py-2" href="/home/map">
                  <div class="mx-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-map" viewBox="0 0 18 18">
                      <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.5.5 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103M10 1.91l-4-.8v12.98l4 .8zm1 12.98 4-.8V1.11l-4 .8zm-6-.8V1.11l-4 .8v12.98z"/>
                    </svg>
                  </div>
                  <b>Térkép</b>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <main>
    <a href="/home/vonatokH5" class="image-container">
      <img id="vonat3" src="../icons/MXA.png"/>
      <!-- <img id="vonat6" src="../icons/MXA-MXA.png"/> -->
      <img id="jelzoZ2" src="../icons/jelzoZold2.png">
      <img id="jelzoZ" src="../icons/jelzoZold2.png">
      <img id="emberek" src="../icons/emberek.png"/>
      <div class="sin"></div>
    </a>
  </main>
  <footer class="d-flex fixed-bottom bg-dark flex-wrap justify-content-center align-items-center px-5 py-3 border-top mb-0">
    <p class="col-12 col-md-4 mb-3 mb-md-0 text-center text-md-start text-light">© 2024 RapidTrack</p>
  
    <a href="/home" class="col-12 col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 link-body-emphasis text-decoration-none">
      <svg class="logo" height="45" viewBox="0 0 831 819" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M801 409.5C801 618.682 628.819 789 415.5 789C202.181 789 30 618.682 30 409.5C30 200.318 202.181 30 415.5 30C628.819 30 801 200.318 801 409.5Z" stroke="#CFCFCF" stroke-width="60"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M415.5 724C591.955 724 735 583.194 735 409.5C735 235.806 591.955 95 415.5 95C239.045 95 96 235.806 96 409.5C96 583.194 239.045 724 415.5 724ZM423.486 202H260V617H347.611V482.449H421.26C453.094 482.449 480.207 476.573 502.6 464.82C525.125 453.067 542.324 436.653 554.195 415.579C566.064 394.505 572 370.188 572 342.63C572 315.071 566.133 290.755 554.396 269.681C542.797 248.471 525.936 231.923 503.812 220.035C481.691 208.011 454.916 202 423.486 202ZM347.611 412.134H407.098C423.959 412.134 437.852 409.23 448.777 403.421C459.84 397.477 468.068 389.304 473.463 378.902C478.994 368.365 481.758 356.274 481.758 342.63C481.758 328.851 478.994 316.827 473.463 306.561C468.068 296.158 459.84 288.121 448.777 282.447C437.717 276.638 423.689 273.733 406.693 273.733H347.611V412.134Z" fill="#CFCFCF"/>
        </svg>
    </a>
  
    <ul class="nav col-12 col-md-4 justify-content-center justify-content-md-end mb-0">
      <li class="nav-item"><a href="/home" class="nav-link px-2 text-light">Főoldal</a></li>
      <li class="nav-item"><a href="#" class="nav-link px-2 text-light">GYIK</a></li>
      <li class="nav-item"><a href="https://github.com/mrdavehun21/RapidTrack" class="nav-link px-2 text-light">GitHub</a></li>
    </ul>
  </footer>
  
  <!-- Script -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="../js/service-worker.js"></script>
  <script>
    var w = window.innerWidth;
    var vonat3 = document.getElementById("vonat3");
    var sin = document.getElementsByClassName("sin");
    var jelzoTilos = document.getElementById("jelzoZ2");
    var jelzoZold = document.getElementById("jelzoZ");
    var people = document.getElementById("emberek");

    console.log(w);

    jelzoTilos.style.position = "absolute";
    jelzoZold.style.position = "absolute";
    people.style.position = "absolute";
    people.style.marginTop = "37px";
    vonat3.style.position = "absolute"; 
    

    let maxPos;
    let vonatPos = 0;
    let direction = 1;  // 1 for forward, -1 for backward
    vonat3.style.left = vonatPos + "px";
    
    let isPaused = false;  // Track whether it's paused
    
    // Different behavior for different screen widths
    if (w >= 1920) {
      maxPos = 1380; // Max position for 1920px width
      jelzoZold.style.left = (maxPos - 100) + "px";
      jelzoTilos.style.right = (maxPos - 100) + "px";
    } else if (w >= 1366 && w < 1920) {
      maxPos = 830;
      jelzoZold.style.display = "none";
      jelzoTilos.style.display = "none";
    } else if (w >= 1024 && w < 1366) {
      maxPos = 490;
      jelzoZold.style.display = "none";
      jelzoTilos.style.display = "none";
    } else{
      vonat3.style.display = "none";
      jelzoZold.style.display = "none";
      jelzoTilos.style.display = "none";
      people.style.display = "none";
      sin[0].style.visibility = "hidden";
    }
  
    //Move the train back and forth
    let interval = setInterval(function() {
      if (!isPaused) {
        vonatPos += direction;  // Increment or decrement based on direction
        vonat3.style.left = vonatPos + "px";

        // Position the people on both sides
        let peopleLeft = vonatPos - 20; // Adjust this offset as needed
        let peopleRight = vonatPos + 20; // Adjust this offset as needed
        people.style.left = peopleRight + "px"; // Position for right side

        // Show people only when the train is at the ends
        if (vonatPos === 0 || vonatPos === maxPos) {
          people.style.display = "block"; // Show people when train is at either end
        } else {
          people.style.display = "none"; // Hide people when train is in motion
        }

        if (vonatPos >= maxPos || vonatPos <= 0) {
          isPaused = true;  // Pause movement
          direction = -direction;  // Reverse direction
          
          // Pause for 5 seconds before resuming movement
          setTimeout(function() {
            isPaused = false;
          }, 5000);  // 5000ms = 5 seconds
        }
      }
    }, 10);  // Adjust time to control speed (milliseconds)
  </script>
  
</body>
</html>